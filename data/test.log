/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
create table ElectronicDevices (id integer generated by default as identity (start with 1), conso integer not null, primary key (id))
create table Heater (id integer generated by default as identity (start with 1), conso integer not null, primary key (id))
create table Home (id integer generated by default as identity (start with 1), nbPieces integer not null, taille integer not null, primary key (id))
create table Home_Heater (Home_id integer not null, chauffages_id integer not null)
create table Person (id integer generated by default as identity (start with 1), email varchar(255), nom varchar(255), prenom varchar(255), primary key (id))
create table Person_Home (Person_id integer not null, maisons_id integer not null)
alter table Home_Heater add constraint UK_bvprgq958obna64buaho296vt  unique (chauffages_id)
alter table Person_Home add constraint UK_4lqw7xq77an37malfyloen755  unique (maisons_id)
alter table Home_Heater add constraint FK_bvprgq958obna64buaho296vt foreign key (chauffages_id) references Heater
alter table Home_Heater add constraint FK_jqyj2si6jk7rdcnwc7lh2kkp foreign key (Home_id) references Home
alter table Person_Home add constraint FK_4lqw7xq77an37malfyloen755 foreign key (maisons_id) references Home
alter table Person_Home add constraint FK_f22ryqcco27f6jqtd6mu4d4de foreign key (Person_id) references Person
INSERT INTO HEATER VALUES(1,1800)
INSERT INTO HEATER VALUES(2,1800)
INSERT INTO HEATER VALUES(3,1800)
INSERT INTO HEATER VALUES(4,1800)
INSERT INTO ELECTRONICDEVICES VALUES(1,20)
INSERT INTO ELECTRONICDEVICES VALUES(2,20)
INSERT INTO ELECTRONICDEVICES VALUES(3,20)
INSERT INTO ELECTRONICDEVICES VALUES(4,20)
INSERT INTO HOME VALUES(1,9,200)
INSERT INTO ELECTRONICDEVICES VALUES(5,2000)
INSERT INTO PERSON VALUES(1,'pitou@toto.fr','totaro','pitou')
INSERT INTO HOME_HEATER VALUES(1,1)
INSERT INTO HOME_HEATER VALUES(1,2)
INSERT INTO HOME_HEATER VALUES(1,3)
INSERT INTO HOME_HEATER VALUES(1,4)
INSERT INTO PERSON_HOME VALUES(1,1)
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
alter table ElectronicDevices add column OWNER_ID integer
alter table Heater add column OWNER_ID integer
alter table Home add column OWNER_ID integer
alter table ElectronicDevices add constraint FK_4y9k3leviekbixoqslkaxbuch foreign key (OWNER_ID) references Person
alter table Heater add constraint FK_dqkh5wieaqqg7f2qu8bkxoq4a foreign key (OWNER_ID) references Home
alter table Home add constraint FK_bbn13mgx1n7k7uj7gt0eh9tdd foreign key (OWNER_ID) references Person
INSERT INTO HEATER VALUES(5,1800,NULL)
INSERT INTO HEATER VALUES(6,1800,NULL)
INSERT INTO HEATER VALUES(7,1800,NULL)
INSERT INTO HEATER VALUES(8,1800,NULL)
INSERT INTO HOME VALUES(2,9,200,NULL)
INSERT INTO ELECTRONICDEVICES VALUES(6,2000,NULL)
INSERT INTO PERSON VALUES(2,'pitou@toto.fr','totaro','pitou')
COMMIT
DISCONNECT
